// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var Client = require("./util/Client.bs.js");
var GqlConverters = require("./util/GqlConverters.bs.js");
var ApolloClient__React_Hooks_UseQuery = require("rescript-apollo-client/src/@apollo/client/react/hooks/ApolloClient__React_Hooks_UseQuery.bs.js");

var Raw = {};

var query = (require("@apollo/client").gql`
  query   {
    stateChanges(first: 1000)  {
      __typename
      id
      txEventParamList  {
        __typename
        eventName
        params  {
          __typename
          param
          paramName
          paramType
        }
      }
      affectedStakes  {
        __typename
        id
      }
      blockNumber
      timestamp
      affectedUsers  {
        __typename
        id
        address
      }
    }
  }
`);

function parse(value) {
  var value$1 = value.stateChanges;
  return {
          stateChanges: value$1.map(function (value) {
                var value$1 = value.txEventParamList;
                var value$2 = value.affectedStakes;
                var value$3 = value.affectedUsers;
                return {
                        __typename: value.__typename,
                        id: value.id,
                        txEventParamList: value$1.map(function (value) {
                              var value$1 = value.params;
                              return {
                                      __typename: value.__typename,
                                      eventName: value.eventName,
                                      params: value$1.map(function (value) {
                                            return {
                                                    __typename: value.__typename,
                                                    param: value.param,
                                                    paramName: value.paramName,
                                                    paramType: value.paramType
                                                  };
                                          })
                                    };
                            }),
                        affectedStakes: value$2.map(function (value) {
                              return {
                                      __typename: value.__typename,
                                      id: value.id
                                    };
                            }),
                        blockNumber: GqlConverters.$$BigInt.parse(value.blockNumber),
                        timestamp: GqlConverters.$$BigInt.parse(value.timestamp),
                        affectedUsers: value$3.map(function (value) {
                              return {
                                      __typename: value.__typename,
                                      id: value.id,
                                      address: value.address
                                    };
                            })
                      };
              })
        };
}

function serialize(value) {
  var value$1 = value.stateChanges;
  var stateChanges = value$1.map(function (value) {
        var value$1 = value.affectedUsers;
        var affectedUsers = value$1.map(function (value) {
              var value$1 = value.address;
              var value$2 = value.id;
              var value$3 = value.__typename;
              return {
                      __typename: value$3,
                      id: value$2,
                      address: value$1
                    };
            });
        var value$2 = value.timestamp;
        var value$3 = GqlConverters.$$BigInt.serialize(value$2);
        var value$4 = value.blockNumber;
        var value$5 = GqlConverters.$$BigInt.serialize(value$4);
        var value$6 = value.affectedStakes;
        var affectedStakes = value$6.map(function (value) {
              var value$1 = value.id;
              var value$2 = value.__typename;
              return {
                      __typename: value$2,
                      id: value$1
                    };
            });
        var value$7 = value.txEventParamList;
        var txEventParamList = value$7.map(function (value) {
              var value$1 = value.params;
              var params = value$1.map(function (value) {
                    var value$1 = value.paramType;
                    var value$2 = value.paramName;
                    var value$3 = value.param;
                    var value$4 = value.__typename;
                    return {
                            __typename: value$4,
                            param: value$3,
                            paramName: value$2,
                            paramType: value$1
                          };
                  });
              var value$2 = value.eventName;
              var value$3 = value.__typename;
              return {
                      __typename: value$3,
                      eventName: value$2,
                      params: params
                    };
            });
        var value$8 = value.id;
        var value$9 = value.__typename;
        return {
                __typename: value$9,
                id: value$8,
                txEventParamList: txEventParamList,
                affectedStakes: affectedStakes,
                blockNumber: value$5,
                timestamp: value$3,
                affectedUsers: affectedUsers
              };
      });
  return {
          stateChanges: stateChanges
        };
}

function serializeVariables(param) {
  
}

function makeVariables(param) {
  
}

function makeDefaultVariables(param) {
  
}

var GetAllStateChanges_inner = {
  Raw: Raw,
  query: query,
  parse: parse,
  serialize: serialize,
  serializeVariables: serializeVariables,
  makeVariables: makeVariables,
  makeDefaultVariables: makeDefaultVariables
};

var include = ApolloClient__React_Hooks_UseQuery.Extend({
      query: query,
      Raw: Raw,
      parse: parse,
      serialize: serialize,
      serializeVariables: serializeVariables
    });

var GetAllStateChanges_refetchQueryDescription = include.refetchQueryDescription;

var GetAllStateChanges_use = include.use;

var GetAllStateChanges_useLazy = include.useLazy;

var GetAllStateChanges_useLazyWithVariables = include.useLazyWithVariables;

var GetAllStateChanges = {
  GetAllStateChanges_inner: GetAllStateChanges_inner,
  Raw: Raw,
  query: query,
  parse: parse,
  serialize: serialize,
  serializeVariables: serializeVariables,
  makeVariables: makeVariables,
  makeDefaultVariables: makeDefaultVariables,
  refetchQueryDescription: GetAllStateChanges_refetchQueryDescription,
  use: GetAllStateChanges_use,
  useLazy: GetAllStateChanges_useLazy,
  useLazyWithVariables: GetAllStateChanges_useLazyWithVariables
};

function getAllStateChanges(param) {
  var __x = Curry._6(Client.instance.rescript_query, {
        query: query,
        Raw: Raw,
        parse: parse,
        serialize: serialize,
        serializeVariables: serializeVariables
      }, undefined, undefined, undefined, undefined, undefined);
  return __x.then(function (result) {
              if (result.TAG === /* Ok */0) {
                return Promise.resolve(result._0.data.stateChanges);
              } else {
                return Promise.reject(result._0);
              }
            });
}

var Raw$1 = {};

var query$1 = (require("@apollo/client").gql`
  query ($userAddress: ID!, $blockNumber: Int!)  {
    user(id: $userAddress, block: {number: $blockNumber})  {
      __typename
      id
    }
  }
`);

function parse$1(value) {
  var value$1 = value.user;
  return {
          user: !(value$1 == null) ? ({
                __typename: value$1.__typename,
                id: value$1.id
              }) : undefined
        };
}

function serialize$1(value) {
  var value$1 = value.user;
  var user;
  if (value$1 !== undefined) {
    var value$2 = value$1.id;
    var value$3 = value$1.__typename;
    user = {
      __typename: value$3,
      id: value$2
    };
  } else {
    user = null;
  }
  return {
          user: user
        };
}

function serializeVariables$1(inp) {
  return {
          userAddress: inp.userAddress,
          blockNumber: inp.blockNumber
        };
}

function makeVariables$1(userAddress, blockNumber, param) {
  return {
          userAddress: userAddress,
          blockNumber: blockNumber
        };
}

var GetLatestMintTime_inner = {
  Raw: Raw$1,
  query: query$1,
  parse: parse$1,
  serialize: serialize$1,
  serializeVariables: serializeVariables$1,
  makeVariables: makeVariables$1
};

var include$1 = ApolloClient__React_Hooks_UseQuery.Extend({
      query: query$1,
      Raw: Raw$1,
      parse: parse$1,
      serialize: serialize$1,
      serializeVariables: serializeVariables$1
    });

var GetLatestMintTime_refetchQueryDescription = include$1.refetchQueryDescription;

var GetLatestMintTime_use = include$1.use;

var GetLatestMintTime_useLazy = include$1.useLazy;

var GetLatestMintTime_useLazyWithVariables = include$1.useLazyWithVariables;

var GetLatestMintTime = {
  GetLatestMintTime_inner: GetLatestMintTime_inner,
  Raw: Raw$1,
  query: query$1,
  parse: parse$1,
  serialize: serialize$1,
  serializeVariables: serializeVariables$1,
  makeVariables: makeVariables$1,
  refetchQueryDescription: GetLatestMintTime_refetchQueryDescription,
  use: GetLatestMintTime_use,
  useLazy: GetLatestMintTime_useLazy,
  useLazyWithVariables: GetLatestMintTime_useLazyWithVariables
};

function getUsersLatestMintTimeAtBlockNumber(blockNumber, userAddress) {
  var __x = Curry._6(Client.instance.rescript_query, {
        query: query$1,
        Raw: Raw$1,
        parse: parse$1,
        serialize: serialize$1,
        serializeVariables: serializeVariables$1
      }, undefined, undefined, undefined, undefined, {
        userAddress: userAddress,
        blockNumber: blockNumber
      });
  return __x.then(function (result) {
              if (result.TAG === /* Ok */0) {
                if (result._0.data.user !== undefined) {
                  return Promise.resolve("->");
                } else {
                  return Promise.resolve(undefined);
                }
              } else {
                return Promise.reject(result._0);
              }
            });
}

var Raw$2 = {};

var query$2 = (require("@apollo/client").gql`
  query ($blockNumber: Int!)  {
    globalState(id: "globalState", block: {number: $blockNumber})  {
      __typename
      id
      contractVersion
      latestMarketIndex
      staker  {
        __typename
        id
      }
      tokenFactory  {
        __typename
        id
      }
      adminAddress
      longShort  {
        __typename
        id
      }
      totalFloatMinted
      totalTxs
      totalGasUsed
      totalUsers
      timestampLaunched
      txHash
    }
  }
`);

function parse$2(value) {
  var value$1 = value.globalState;
  var tmp;
  if (value$1 == null) {
    tmp = undefined;
  } else {
    var value$2 = value$1.staker;
    var value$3 = value$1.tokenFactory;
    var value$4 = value$1.longShort;
    tmp = {
      __typename: value$1.__typename,
      id: value$1.id,
      contractVersion: GqlConverters.$$BigInt.parse(value$1.contractVersion),
      latestMarketIndex: GqlConverters.$$BigInt.parse(value$1.latestMarketIndex),
      staker: {
        __typename: value$2.__typename,
        id: value$2.id
      },
      tokenFactory: {
        __typename: value$3.__typename,
        id: value$3.id
      },
      adminAddress: value$1.adminAddress,
      longShort: {
        __typename: value$4.__typename,
        id: value$4.id
      },
      totalFloatMinted: GqlConverters.$$BigInt.parse(value$1.totalFloatMinted),
      totalTxs: GqlConverters.$$BigInt.parse(value$1.totalTxs),
      totalGasUsed: GqlConverters.$$BigInt.parse(value$1.totalGasUsed),
      totalUsers: GqlConverters.$$BigInt.parse(value$1.totalUsers),
      timestampLaunched: GqlConverters.$$BigInt.parse(value$1.timestampLaunched),
      txHash: value$1.txHash
    };
  }
  return {
          globalState: tmp
        };
}

function serialize$2(value) {
  var value$1 = value.globalState;
  var globalState;
  if (value$1 !== undefined) {
    var value$2 = value$1.txHash;
    var value$3 = value$1.timestampLaunched;
    var value$4 = GqlConverters.$$BigInt.serialize(value$3);
    var value$5 = value$1.totalUsers;
    var value$6 = GqlConverters.$$BigInt.serialize(value$5);
    var value$7 = value$1.totalGasUsed;
    var value$8 = GqlConverters.$$BigInt.serialize(value$7);
    var value$9 = value$1.totalTxs;
    var value$10 = GqlConverters.$$BigInt.serialize(value$9);
    var value$11 = value$1.totalFloatMinted;
    var value$12 = GqlConverters.$$BigInt.serialize(value$11);
    var value$13 = value$1.longShort;
    var value$14 = value$13.id;
    var value$15 = value$13.__typename;
    var longShort = {
      __typename: value$15,
      id: value$14
    };
    var value$16 = value$1.adminAddress;
    var value$17 = value$1.tokenFactory;
    var value$18 = value$17.id;
    var value$19 = value$17.__typename;
    var tokenFactory = {
      __typename: value$19,
      id: value$18
    };
    var value$20 = value$1.staker;
    var value$21 = value$20.id;
    var value$22 = value$20.__typename;
    var staker = {
      __typename: value$22,
      id: value$21
    };
    var value$23 = value$1.latestMarketIndex;
    var value$24 = GqlConverters.$$BigInt.serialize(value$23);
    var value$25 = value$1.contractVersion;
    var value$26 = GqlConverters.$$BigInt.serialize(value$25);
    var value$27 = value$1.id;
    var value$28 = value$1.__typename;
    globalState = {
      __typename: value$28,
      id: value$27,
      contractVersion: value$26,
      latestMarketIndex: value$24,
      staker: staker,
      tokenFactory: tokenFactory,
      adminAddress: value$16,
      longShort: longShort,
      totalFloatMinted: value$12,
      totalTxs: value$10,
      totalGasUsed: value$8,
      totalUsers: value$6,
      timestampLaunched: value$4,
      txHash: value$2
    };
  } else {
    globalState = null;
  }
  return {
          globalState: globalState
        };
}

function serializeVariables$2(inp) {
  return {
          blockNumber: inp.blockNumber
        };
}

function makeVariables$2(blockNumber, param) {
  return {
          blockNumber: blockNumber
        };
}

var GetGlobalState_inner = {
  Raw: Raw$2,
  query: query$2,
  parse: parse$2,
  serialize: serialize$2,
  serializeVariables: serializeVariables$2,
  makeVariables: makeVariables$2
};

var include$2 = ApolloClient__React_Hooks_UseQuery.Extend({
      query: query$2,
      Raw: Raw$2,
      parse: parse$2,
      serialize: serialize$2,
      serializeVariables: serializeVariables$2
    });

var GetGlobalState_refetchQueryDescription = include$2.refetchQueryDescription;

var GetGlobalState_use = include$2.use;

var GetGlobalState_useLazy = include$2.useLazy;

var GetGlobalState_useLazyWithVariables = include$2.useLazyWithVariables;

var GetGlobalState = {
  GetGlobalState_inner: GetGlobalState_inner,
  Raw: Raw$2,
  query: query$2,
  parse: parse$2,
  serialize: serialize$2,
  serializeVariables: serializeVariables$2,
  makeVariables: makeVariables$2,
  refetchQueryDescription: GetGlobalState_refetchQueryDescription,
  use: GetGlobalState_use,
  useLazy: GetGlobalState_useLazy,
  useLazyWithVariables: GetGlobalState_useLazyWithVariables
};

function getGlobalStateAtBlock(blockNumber) {
  var __x = Curry._6(Client.instance.rescript_query, {
        query: query$2,
        Raw: Raw$2,
        parse: parse$2,
        serialize: serialize$2,
        serializeVariables: serializeVariables$2
      }, undefined, undefined, undefined, undefined, {
        blockNumber: blockNumber
      });
  return __x.then(function (result) {
              if (result.TAG === /* Ok */0) {
                if (result._0.data.globalState !== undefined) {
                  return Promise.resolve("->");
                } else {
                  return Promise.resolve(undefined);
                }
              } else {
                return Promise.reject(result._0);
              }
            });
}

var ApolloQueryResult;

exports.ApolloQueryResult = ApolloQueryResult;
exports.GetAllStateChanges = GetAllStateChanges;
exports.getAllStateChanges = getAllStateChanges;
exports.GetLatestMintTime = GetLatestMintTime;
exports.getUsersLatestMintTimeAtBlockNumber = getUsersLatestMintTimeAtBlockNumber;
exports.GetGlobalState = GetGlobalState;
exports.getGlobalStateAtBlock = getGlobalStateAtBlock;
/* query Not a pure module */
