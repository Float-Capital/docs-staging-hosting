// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var React = require("react");
var Ethers = require("ethers");
var Js_math = require("rescript/lib/js/js_math.js");
var Caml_option = require("rescript/lib/js/caml_option.js");

var optLocalstorage = typeof localStorage === "undefined" ? undefined : Caml_option.some(localStorage);

function onlyExecuteClientSide(functionForClientsideExecution) {
  if (typeof window !== "undefined") {
    return Curry._1(functionForClientsideExecution, undefined);
  }
  
}

function getCurrentTimestamp(param) {
  return Js_math.floor(Date.now() / 1000);
}

function useCurrentTime(updateInterval) {
  var match = React.useState(function () {
        return getCurrentTimestamp(undefined);
      });
  var setTimeLeft = match[1];
  React.useEffect((function () {
          var interval = setInterval((function (param) {
                  return Curry._1(setTimeLeft, (function (param) {
                                return getCurrentTimestamp(undefined);
                              }));
                }), updateInterval);
          return (function (param) {
                    clearInterval(interval);
                    
                  });
        }), [
        setTimeLeft,
        updateInterval
      ]);
  return match[0];
}

function useCurrentTimeBN(updateInterval) {
  return Ethers.BigNumber.from(useCurrentTime(updateInterval));
}

var Time = {
  getCurrentTimestamp: getCurrentTimestamp,
  useCurrentTime: useCurrentTime,
  useCurrentTimeBN: useCurrentTimeBN
};

exports.optLocalstorage = optLocalstorage;
exports.onlyExecuteClientSide = onlyExecuteClientSide;
exports.Time = Time;
/* optLocalstorage Not a pure module */
