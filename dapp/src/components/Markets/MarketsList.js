// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "bs-platform/lib/es6/curry.js";
import * as Login from "../Login/Login.js";
import * as React from "react";
import * as Button from "../UI/Button.js";
import * as Ethers from "../../ethereum/Ethers.js";
import * as Queries from "../../libraries/Queries.js";
import * as Belt_Array from "bs-platform/lib/es6/belt_Array.js";
import * as MiniLoader from "../UI/MiniLoader.js";
import * as Router from "next/router";
import * as AccessControl from "../AccessControl.js";

function MarketsList(Props) {
  var router = Router.useRouter();
  var marketDetailsQuery = Curry.app(Queries.MarketDetails.use, [
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined
      ]);
  var match = marketDetailsQuery.data;
  return React.createElement(AccessControl.make, {
              children: React.createElement("div", {
                    className: "p-5 flex flex-col bg-white bg-opacity-75  rounded"
                  }, React.createElement("h2", {
                        className: "text-lg font-medium"
                      }, "Markets"), React.createElement("div", {
                        className: "flex justify-between items-center w-full mt-3"
                      }, React.createElement("p", {
                            className: "font-bold underline"
                          }, "Market"), React.createElement("p", {
                            className: "font-bold underline"
                          }, "Symbol"), React.createElement("p", {
                            className: "font-bold underline"
                          }, "Long staked"), React.createElement("p", {
                            className: "font-bold underline"
                          }, "Short staked"), React.createElement("p", {
                            className: "font-bold underline"
                          }, "Action")), marketDetailsQuery.loading ? React.createElement("div", {
                          className: "m-auto"
                        }, React.createElement(MiniLoader.make, {})) : (
                      marketDetailsQuery.error !== undefined ? "Error loading data" : (
                          match !== undefined ? React.createElement(React.Fragment, undefined, Belt_Array.map(match.syntheticMarkets, (function (param) {
                                        var marketIndex = param.marketIndex;
                                        var symbol = param.symbol;
                                        return React.createElement("div", {
                                                    key: symbol,
                                                    className: "flex justify-between items-center w-full"
                                                  }, React.createElement("p", undefined, param.name), React.createElement("p", undefined, symbol), React.createElement("p", undefined, Ethers.Utils.formatEther(param.syntheticLong.totalStaked)), React.createElement("p", undefined, Ethers.Utils.formatEther(param.syntheticShort.totalStaked)), React.createElement("div", {
                                                        className: "grid grid-cols-2 gap-2"
                                                      }, React.createElement(Button.make, {
                                                            onClick: (function (param) {
                                                                router.push("/mint?marketIndex=" + marketIndex.toString());
                                                                
                                                              }),
                                                            children: "Mint",
                                                            variant: "small"
                                                          }), React.createElement(Button.make, {
                                                            onClick: (function (param) {
                                                                router.push("/redeem?marketIndex=" + marketIndex.toString());
                                                                
                                                              }),
                                                            children: "Redeem",
                                                            variant: "small"
                                                          })));
                                      }))) : "You might think this is impossible, but depending on the situation it might not be!"
                        )
                    )),
              alternateComponent: React.createElement("h1", {
                    onClick: (function (param) {
                        router.push("/login?nextPath=/dashboard");
                        
                      })
                  }, React.createElement(Login.make, {}))
            });
}

var make = MarketsList;

export {
  make ,
  
}
/* Login Not a pure module */
