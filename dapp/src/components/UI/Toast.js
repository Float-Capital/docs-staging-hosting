// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var React = require("react");
var ToastProvider = require("./ToastProvider.js");

function Toast(Props) {
  var toast = React.useContext(ToastProvider.ToastContext.context);
  var toastDispatch = React.useContext(ToastProvider.DispatchToastContext.context);
  React.useEffect((function () {
          var timeout = setTimeout((function (param) {
                  return Curry._1(toastDispatch, /* Hide */0);
                }), 5000);
          return (function (param) {
                    clearTimeout(timeout);
                    
                  });
        }), [toast]);
  var toastHeading = toast[0];
  var color;
  switch (toast[2]) {
    case /* Error */0 :
        color = "red";
        break;
    case /* Warning */1 :
        color = "yellow";
        break;
    case /* Info */2 :
        color = "blue";
        break;
    case /* Success */3 :
        color = "green";
        break;
    
  }
  return React.createElement("div", {
              className: "fixed bottom-3 flex flex-col",
              style: {
                display: toastHeading.length !== 0 ? "block" : "none"
              },
              onClick: (function (param) {
                  return Curry._1(toastDispatch, /* Hide */0);
                })
            }, React.createElement("div", {
                  className: "flex flex-row items-center text-xl rounded-sm bg-white my-4 mx-10 py-2 px-4 border border-" + color + "-400 border-opacity-30"
                }, React.createElement("div", {
                      className: "animate-ping inline-flex h-3 w-3 mr-4 rounded-full bg-" + color + "-400 opacity-90"
                    }), React.createElement("div", undefined, React.createElement("div", {
                          className: "text-sm"
                        }, toastHeading), React.createElement("div", {
                          className: "text-xs"
                        }, toast[1]))));
}

var make = Toast;

exports.make = make;
/* react Not a pure module */
