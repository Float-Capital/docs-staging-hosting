// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Misc = require("../../libraries/Misc.js");
var React = require("react");
var Button = require("./Button.js");
var Config = require("../../Config.js");
var Caml_option = require("rescript/lib/js/caml_option.js");
var InjectedEthereum = require("../../ethereum/InjectedEthereum.js");

function AddNetworkToMetamask(Props) {
  var ethObj = window.ethereum;
  if (ethObj === undefined) {
    return null;
  }
  var ethObj$1 = Caml_option.valFromOption(ethObj);
  return React.createElement(Button.$$Element.make, {
              onClick: (function (_event) {
                  return Misc.onlyExecuteClientSide(function (param) {
                              ethObj$1.request({
                                    method: "wallet_addEthereumChain",
                                    params: [{
                                        chainId: InjectedEthereum.chainIdIntToHex(Config.networkId),
                                        chainName: Config.networkName,
                                        nativeCurrency: {
                                          name: Config.networkCurrencyName,
                                          symbol: Config.networkCurrencySymbol,
                                          decimals: 18
                                        },
                                        rpcUrls: [Config.rpcEndopint],
                                        blockExplorerUrls: [Config.blockExplorer]
                                      }]
                                  });
                              
                            });
                }),
              children: React.createElement("div", {
                    className: "mx-auto"
                  }, React.createElement("div", {
                        className: "flex flex-row items-center"
                      }, React.createElement("div", {
                            className: "text-sm"
                          }, "Switch metamask to " + Config.networkName), React.createElement("img", {
                            className: "h-6 ml-1",
                            src: "/icons/metamask.svg"
                          })))
            });
}

var make = AddNetworkToMetamask;

exports.make = make;
/* Misc Not a pure module */
