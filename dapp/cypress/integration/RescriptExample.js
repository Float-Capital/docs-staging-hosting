// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Caml_option = require("rescript/lib/js/caml_option.js");
var CypressConfig = require("./config/CypressConfig.js");
var Mocha$BsMocha = require("bs-mocha/src/Mocha.js");

import '@testing-library/cypress/add-commands'
;

Mocha$BsMocha.describe("Basic navigation demo")(undefined, undefined, undefined, (function (param) {
        Mocha$BsMocha.before_each(undefined)(undefined, undefined, undefined, (function (param) {
                cy.visit(CypressConfig.baseUrl);
                
              }));
        Mocha$BsMocha.it("Homepage should say 'start trading'")(undefined, undefined, undefined, (function (param) {
                cy.findByAltText("start-trading");
                
              }));
        return Mocha$BsMocha.it("Clicking the 'start-trading' button should go to the markets page")(undefined, undefined, undefined, (function (param) {
                      cy.findByAltText("start-trading").click();
                      cy.findAllByText("Liquidity");
                      return (cy.location("pathname").should("eq", "/markets"));
                    }));
      }));

Mocha$BsMocha.describe("Minting")(undefined, undefined, undefined, (function (param) {
        Mocha$BsMocha.before_each(undefined)(undefined, undefined, undefined, (function (param) {
                cy.visit(CypressConfig.baseUrl + "/markets");
                
              }));
        return Mocha$BsMocha.it("Clicking the 'start-trading' button should go to the markets page")(undefined, undefined, undefined, (function (param) {
                      var longButtons = cy.findAllByText(/mint long/i);
                      var firstButton = longButtons.first();
                      firstButton.click();
                      ((cy.location().should((loc) => {
      expect(loc.pathname).to.include('/markets')

      expect(loc.search).to.include("actionOption=long")
      expect(loc.search).to.include("marketIndex=1")
    })));
                      var inputBox = cy.findByPlaceholderText(/mint/i).should("exist");
                      inputBox.click().type("1.3");
                      var submitButton = cy.findByRole("button", {
                              name: Caml_option.some(/mint/i)
                            }).should("exist");
                      submitButton.click();
                      cy.findByText("The transaction failed.").should("exist");
                      
                    }));
      }));

/*  Not a pure module */
