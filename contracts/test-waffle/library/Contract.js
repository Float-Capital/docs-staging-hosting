// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Belt_Array = require("bs-platform/lib/js/belt_Array.js");

function attachToContract(contractName, contractAddress) {
  return ethers.getContractFactory(contractName).then(function (param) {
              return param.attach(contractAddress);
            });
}

function deployContract(contractName) {
  return ethers.getContractFactory(contractName).then(function (prim) {
                return prim.deploy();
              }).then(function (prim) {
              return prim.deployed();
            });
}

function deployContract1(contractName, firstParam) {
  return ethers.getContractFactory(contractName).then(function (__x) {
                return __x.deploy(firstParam);
              }).then(function (prim) {
              return prim.deployed();
            });
}

function deployContract2(contractName, firstParam, secondParam) {
  return ethers.getContractFactory(contractName).then(function (__x) {
                return __x.deploy(firstParam, secondParam);
              }).then(function (prim) {
              return prim.deployed();
            });
}

function deployContract3(contractName, firstParam, secondParam, thirdParam) {
  return ethers.getContractFactory(contractName).then(function (__x) {
                return __x.deploy(firstParam, secondParam, thirdParam);
              }).then(function (prim) {
              return prim.deployed();
            });
}

var contractName = "SyntheticToken";

function at(contractAddress) {
  return attachToContract(contractName, contractAddress);
}

var SyntheticToken = {
  contractName: contractName,
  at: at
};

var contractName$1 = "ERC20PresetMinterPauser";

function make(name, symbol) {
  return deployContract2(contractName$1, name, symbol);
}

function at$1(contractAddress) {
  return attachToContract(contractName$1, contractAddress);
}

function grantMintRole(t, user) {
  return t.MINTER_ROLE.call().then(function (minterRole) {
              return t.grantRole(minterRole, user);
            });
}

function mintAndApprove(t, user, amount, spender) {
  return t.mint(user.address, amount).then(function (param) {
              return t.connect(user).approve(spender, amount);
            });
}

var PaymentToken = {
  contractName: contractName$1,
  make: make,
  at: at$1,
  grantMintRole: grantMintRole,
  mintAndApprove: mintAndApprove
};

var contractName$2 = "YieldManagerMock";

function make$1(admin, longShortAddress, fundTokenAddress) {
  return deployContract3(contractName$2, admin, longShortAddress, fundTokenAddress);
}

function at$2(contractAddress) {
  return attachToContract(contractName$2, contractAddress);
}

var YieldManagerMock = {
  contractName: contractName$2,
  make: make$1,
  at: at$2
};

var contractName$3 = "OracleManagerMock";

function make$2(admin) {
  return deployContract1(contractName$3, admin);
}

function at$3(contractAddress) {
  return attachToContract(contractName$3, contractAddress);
}

var OracleManagerMock = {
  contractName: contractName$3,
  make: make$2,
  at: at$3
};

var contractName$4 = "LongShort";

function make$3(param) {
  return deployContract(contractName$4);
}

var LongShort = {
  contractName: contractName$4,
  make: make$3
};

var contractName$5 = "ERC20PresetMinterPauserUpgradeable";

function make$4(param) {
  return deployContract(contractName$5);
}

var GenericErc20 = {
  contractName: contractName$5,
  make: make$4
};

var contractName$6 = "TokenFactory";

function make$5(admin, longShort) {
  return deployContract2(contractName$6, admin, longShort);
}

var TokenFactory = {
  contractName: contractName$6,
  make: make$5
};

var contractName$7 = "Staker";

function make$6(param) {
  return deployContract(contractName$7);
}

function at$4(contractAddress) {
  return attachToContract(contractName$7, contractAddress);
}

function claimFloatCustomUser(staker, user, syntheticTokens, markets) {
  return staker.connect(user).claimFloatCustom(Belt_Array.map(syntheticTokens, (function (synth) {
                    return synth.address;
                  })), markets);
}

var Staker = {
  contractName: contractName$7,
  make: make$6,
  at: at$4,
  claimFloatCustomUser: claimFloatCustomUser
};

var contractName$8 = "FloatToken";

function make$7(param) {
  return deployContract(contractName$8);
}

var FloatToken = {
  contractName: contractName$8,
  make: make$7
};

var contractName$9 = "FloatCapital_v0";

function make$8(param) {
  return deployContract(contractName$9);
}

var FloatCapital_v0 = {
  contractName: contractName$9,
  make: make$8
};

var contractName$10 = "Treasury_v0";

function make$9(param) {
  return deployContract(contractName$10);
}

var Treasury_v0 = {
  contractName: contractName$10,
  make: make$9
};

function marketIndexOfSynth(longShort, syntheticToken) {
  var arg = syntheticToken.address;
  return longShort.staker().then(at$4).then(function (param) {
              return param.marketIndexOfToken(arg);
            });
}

var DataFetchers = {
  marketIndexOfSynth: marketIndexOfSynth
};

exports.attachToContract = attachToContract;
exports.deployContract = deployContract;
exports.deployContract1 = deployContract1;
exports.deployContract2 = deployContract2;
exports.deployContract3 = deployContract3;
exports.SyntheticToken = SyntheticToken;
exports.PaymentToken = PaymentToken;
exports.YieldManagerMock = YieldManagerMock;
exports.OracleManagerMock = OracleManagerMock;
exports.LongShort = LongShort;
exports.GenericErc20 = GenericErc20;
exports.TokenFactory = TokenFactory;
exports.Staker = Staker;
exports.FloatToken = FloatToken;
exports.FloatCapital_v0 = FloatCapital_v0;
exports.Treasury_v0 = Treasury_v0;
exports.DataFetchers = DataFetchers;
/* No side effect */
