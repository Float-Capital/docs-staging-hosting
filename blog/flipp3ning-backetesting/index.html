<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Float Capital | Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Float Capital | Docs Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C6SBFSRFEQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-C6SBFSRFEQ",{})</script><title data-react-helmet="true">Backtesting the Flipp3ning market: Visualizing market evolution | Float Capital | Docs</title><meta data-react-helmet="true" property="og:title" content="Backtesting the Flipp3ning market: Visualizing market evolution | Float Capital | Docs"><meta data-react-helmet="true" name="description" content="**Disclaimer**: The modelling process below was done ahead of the Alpha launch and so the results will be different to the Alpha Experience"><meta data-react-helmet="true" property="og:description" content="**Disclaimer**: The modelling process below was done ahead of the Alpha launch and so the results will be different to the Alpha Experience"><meta data-react-helmet="true" property="og:url" content="https://stagingdocs.float.capital/blog/flipp3ning-backetesting"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/favicons/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://stagingdocs.float.capital/blog/flipp3ning-backetesting"><link data-react-helmet="true" rel="alternate" href="https://stagingdocs.float.capital/blog/flipp3ning-backetesting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://stagingdocs.float.capital/blog/flipp3ning-backetesting" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.eead7c64.css">
<link rel="preload" href="/assets/js/runtime~main.45e98752.js" as="script">
<link rel="preload" href="/assets/js/main.2a7ce24c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://float.capital/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/float-capital-logo-long.svg" alt="Float Capital Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/float-capital-logo-long.svg" alt="Float Capital Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/float-capital" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://float.capital/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/float-capital-logo-long.svg" alt="Float Capital Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/float-capital-logo-long.svg" alt="Float Capital Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/float-capital" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/we-found-the-missing-link">We found the missing link. It was LINK.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/markets-unpredictable-trade-volatility">Markets unpredictable? Trade volatility.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/delta-neutral-joe">Go delta neutral on JOE for dank APR</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/axs-magic-internet-asset">AXS just got a magic internet asset</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/hedging-staked-axs">Hedging staked AXS with Float Capital</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_GeHD">Backtesting the Flipp3ning market: Visualizing market evolution</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-09-22T00:00:00.000Z">September 22, 2021</time> Â· 8 min read</div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><p><em><strong>Disclaimer</strong>: The modelling process below was done ahead of the Alpha launch and so the results will be different to the Alpha Experience</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modelling-purpose"></a><strong>Modelling purpose</strong><a class="hash-link" href="#modelling-purpose" title="Direct link to heading">#</a></h3><p>For the Alpha launch, we modelled the <strong>evolution of market liquidity</strong> under our first market, the Flipp3ning using <strong>historical data</strong>.
This has helped us unlock insights required for fine-tuning the parameters used in the protocol mechanisms.</p><p>A useful by-product of this is being able to share the results and insights with the community and future FLT token holders, who will eventually <strong>champion</strong> the governance of Float Capital DAO.</p><p>As one can reasonably expect, the results of the modelling process depend largely on the data as well as the assumptions made - let&#x27;s talk briefly about them before interpreting the results.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="data"></a><strong>Data</strong><a class="hash-link" href="#data" title="Direct link to heading">#</a></h3><p>We chose the Flipp3ning as the on-chain asset for modelling, the first market on Float Capital in the Alpha launch.
This is a 3x leveraged version of the Flippening, which is calculated as market capitalization of ETH over market capitalization of BTC.</p><p>The market movements of ETH and BTC can tend to be quite correlated at times as most outside speculation of crypto does not differentiate between coins, hence the reason for the 3x leverage to increase the volatility of the on-chain asset.</p><p>The modelling process runs over 30 daysâ€™ worth of data, recorded at an hourly interval; the actual heartbeat (frequency) of price feed in the Alpha and mainnet launch will actually be approximately 5 minutes, so we observed greater volatility in this data than we would observe on the protocol.</p><img src="/blog-assets/backtesting-flipp3ning/flipp3ning-historical.png" alt="flipp3ning-backetesting" width="100%"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="protocol-mechanisms"></a><strong>Protocol mechanisms</strong><a class="hash-link" href="#protocol-mechanisms" title="Direct link to heading">#</a></h3><p>Float Capital is a peer-to-peer magic internet asset marketplace where each market provides users with the option to take both long and short positions (for more information on Float Capital, click <a href="https://docs.float.capital/docs/" target="_blank" rel="noopener noreferrer">here</a>). Based on the total liquidity on each side (long and short), the one with the less liquidity (the undercapitalized side) will have 100% exposure to price movements and the one with more liquidity (the overcapitalized side) will have exposure equal to the ratio of the undercapitalized side to overcapitalized side (for example, if long has $100 and short has $90, short side will have 100% exposure and long side will have 90/100 = 90% exposure). This floating exposure mechanism ensures that the gains/losses due to price movements are always 100% collateralized in the protocol.</p><p>Then you might ask, for a given on-chain asset with a price trajectory, will one side not be greater than the other?</p><p>Yes, and hence enter the balancing incentives.</p><p>In Float Capital, users who mint positions in the undercapitalized side earn a portion of the yield that is generated by putting the total liquidity locked in the market into AAVE. Users with positions in the overcapitalized side do not receive any portion of the yield.
The balance of the yield is sent to the Treasury DAO and will provide price support for FLT tokens that are in circulation (for the Alpha launch, alphaFLT tokens will be issued instead of FLT tokens).
This incentivizes the users to balance the markets and hence bring the exposure of the overcapitalized side closer to 100%. This additional yield is calculated using a curve (click <a href="https://ipfs.io/ipfs/QmXsW4cHtxpJ5BFwRcMSUw7s5G11Qkte13NTEfPLTKEx4x" target="_blank" rel="noopener noreferrer">here</a> for formula and <a href="https://www.desmos.com/calculator/pnl43tfv5b" target="_blank" rel="noopener noreferrer">here</a> for graph).
There are further incentives in the form of higher FLT token issuance to users who stake on-chain tokens of the undercapitalized side, but we will cover the fine details of FLT token in another article.
In short, the FLT token is a rewards token to incentivise liquidity provision with mechanisms for profit share and price support while also acting as a governance token for the protocol.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="other-assumptions"></a><strong>Other assumptions</strong><a class="hash-link" href="#other-assumptions" title="Direct link to heading">#</a></h3><p>Given the protocol mechanisms above and the price feeds, we project 2 types of liquidity injections into the system.
One is for the initial liquidity that float capital will inject into the system to ensure that the exposure for the users stays as close to 100% for the immediate future (until whales come to play) and the other for the subsequent liquidity that users will inject based on the market movements.</p><p>The user liquidity has been further divided into 2 types - <em>performance-based</em> and <em>incentive-based</em>.
<em>Performance-based</em> users will assess the recent performance of the on-chain asset in determining whether to enter long or short positions, whereas <em>incentive-based</em> users will assess the excess yield to determine whether to enter long or short positions.
The total user liquidity amount is set by multiplying the assumptions for average liquidity per user and the number of users interacting with the protocol.</p><p>An initial liquidity of $50,000 was split 50:50 between long and short sides and a total user liquidity of $150 was assumed per time interval.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="results-and-insights"></a><strong>Results and insights</strong><a class="hash-link" href="#results-and-insights" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5050-split-between-performance-based-and-incentive-based-users"></a>50:50 split between <em>performance-based</em> and <em>incentive-based</em> users<a class="hash-link" href="#5050-split-between-performance-based-and-incentive-based-users" title="Direct link to heading">#</a></h4><img src="/blog-assets/backtesting-flipp3ning/model-50-50.png" alt="flipp3ning-backetesting" width="100%"><p>The liquidity on either side remains relatively balanced until the half-way point, as no significant fluctuations of the historical data are observed and the incentive-based users are injecting liquidity to capture the additional incentive and thereby balance the two sides.</p><p>Given the large upswing of the Flipp3ning around the half-way point, we observe that the long liquidity starts becoming significantly overcapitalized due to a couple of reasons:</p><ol><li>Increase in price of the Flipp3ning transfers liquidity from short to long side.</li><li>Upward trend of the Flipp3ning triggers <em>performance-based</em> users to mint long, who are hoping to capture future gains.</li></ol><p>At this point, exposure for the long liquidity starts decreasing significantly and the yield share for the undercapitalized (short) side starts increasing from 0, to incentivize users to mint positions in the short side.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2080-split-between-performance-based-and-incentive-based-users"></a>20:80 split between <em>performance-based</em> and <em>incentive-based</em> users<a class="hash-link" href="#2080-split-between-performance-based-and-incentive-based-users" title="Direct link to heading">#</a></h4><img src="/blog-assets/backtesting-flipp3ning/model-20-80.png" alt="flipp3ning-backetesting" width="100%"><p>Here we observe a greater tendency towards a balanced market, as a larger portion of users are assumed to inject liquidity to capture the balancing incentives in the protocol.</p><p>The benefit of the markets being balanced come in a direct and indirect forms - exposure of the undercapitalized side remains as close to 100% as possible and majority of the yield share is accrued to the Treasury DAO which will provide a price support to FLT tokens issued to users.</p><p>The actual percentage of users who inject liquidity into the undercapitalized side will be determined by the relative gain of the balancing incentives to the possibility of impermanent loss in reality.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="8020-split-between-performance-based-and-incentive-based-users"></a>80:20 split between <em>performance-based</em> and <em>incentive-based</em> users<a class="hash-link" href="#8020-split-between-performance-based-and-incentive-based-users" title="Direct link to heading">#</a></h4><img src="/blog-assets/backtesting-flipp3ning/model-80-20.png" alt="flipp3ning-backetesting" width="100%"><p>A higher percentage of <em>performance-based</em> users will lead to greater divergence from an equilibrium between long and short sides, and this will amplify the balancing incentives for incentive-based users.</p><p>An interesting observation is that the exposure curve for 20:80 split and 80:20 split scenarios take on a similar shape around the half-way point when the Flipp3ning experiences a large gain over a short period.
If total liquidity in the market is considerably larger than the assumed user liquidity injections, any up/down swings of price will drown out user liquidity injections.</p><p>One thing to note is that the modelling process does not consider the higher FLT token issuance for the users who stake on the undercapitalized side yet, which may in practice result in higher rate of reversion towards an equilibrium between short and long liquidity.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="observation-of-the-alpha-experience"></a><strong>Observation of the Alpha experience</strong><a class="hash-link" href="#observation-of-the-alpha-experience" title="Direct link to heading">#</a></h3><p>A <strong>massive</strong> positive is that we can compare the expected experience from the modelling to the Alpha experience!</p><img src="/blog-assets/backtesting-flipp3ning/massive.png" alt="flipp3ning-backetesting" width="50%"><p>Straight off the bat, the major difference to the model was that the <strong>initial liquidity</strong> from Float Capital was $20,000, with $10,000 in long and short at the launch.</p><p>But more importanly, only after 6 days since launch, we are sitting with TVL of $160,000+ in the protocol (one of few instances where I&#x27;m happy to be wrong about my assumptions).</p><p>And the balance between long and short? Drum roll please....</p><p>Long side has <strong>100% exposure</strong> and short side has <strong>98.73% exposure!</strong></p><p>Even though the short side has been <strong>DOMINATING</strong> since the launch, the balancing incentives have really outdone themselves in balancing the market.</p><img src="/blog-assets/backtesting-flipp3ning/flipp3ning-alpha.png" alt="flipp3ning-backetesting" width="100%"><p>These observations give us some powerful learnings, which can be fed into the next iteration of the modelling:</p><ol><li>Predicting liquidity injection into the protocol is difficult, so the best solution may be run Monte Carlo simulations across different liquidity injection levels.</li><li>The unmodelled incentive of FLT tokens (alphaFLT in the Alpha) may have a significant influence in incentivizing markets to be balanced.</li><li>The overall balancing incentives seem to be really strong, so we may need to assume a higher proportion of <em>incentive-based</em> users.</li></ol><p><em>This piece was researched and written by Woo Sung Dong with data support from Denham Preen and Jon Jon Clark, and editing support from Jason Smythe and Campbell Easton.</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="learn-more"></a><strong>Learn more</strong><a class="hash-link" href="#learn-more" title="Direct link to heading">#</a></h3><p>If you want to learn even more about Float Capital, you can visit the <a href="https://docs.float.capital/" target="_blank" rel="noopener noreferrer">docs section</a> of our website.</p><p>If you want breaking news, memes and announcements, follow us on <a href="https://twitter.com/float_capital" target="_blank" rel="noopener noreferrer">Twitter</a>.</p><p>If you want to join the community, meet the team and get involved in the future of Float Capital, join our <a href="https://discord.gg/StYzV8MP" target="_blank" rel="noopener noreferrer">Discord</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/own-our-future-reality-cards"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Own our future with Reality Cards</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/new-era-magic-internet-assets"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Float Capital Presents: A New Era of Magic Internet Assets Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#modelling-purpose" class="table-of-contents__link"><strong>Modelling purpose</strong></a></li><li><a href="#data" class="table-of-contents__link"><strong>Data</strong></a></li><li><a href="#protocol-mechanisms" class="table-of-contents__link"><strong>Protocol mechanisms</strong></a></li><li><a href="#other-assumptions" class="table-of-contents__link"><strong>Other assumptions</strong></a></li><li><a href="#results-and-insights" class="table-of-contents__link"><strong>Results and insights</strong></a></li><li><a href="#observation-of-the-alpha-experience" class="table-of-contents__link"><strong>Observation of the Alpha experience</strong></a></li><li><a href="#learn-more" class="table-of-contents__link"><strong>Learn more</strong></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/resources/">Resources</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/dqDwgrVYcU" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/float_capital" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/float-capital" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Float Capital</div></div></div></footer></div>
<script src="/assets/js/runtime~main.45e98752.js"></script>
<script src="/assets/js/main.2a7ce24c.js"></script>
</body>
</html>